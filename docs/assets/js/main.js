"use strict";console.log(">> Ready :)");const seriesListEl=document.querySelector(".series__list"),inputEl=document.querySelector(".search"),buttonEl=document.querySelector(".btn"),favouriteListEl=document.querySelector(".favourites__list");let favouritesArray=JSON.parse(localStorage.getItem("favouritesArray"));function printerSeries(e){for(let t of e){const e=t.show,r=e.name,i=document.createElement("li"),n=document.createElement("h3"),o=document.createElement("img"),s=document.createTextNode(r),a=e.image;if(a){const e=a.medium;o.src=e,o.alt="Cartel de la serie "+r}else o.src="https://via.placeholder.com/210x295/444444/ffffff/?text="+r,o.alt="Cartel de la serie "+r;n.classList.add("show-title"),i.classList.add("show__element"),n.appendChild(s),i.appendChild(o),i.appendChild(n),seriesListEl.appendChild(i)}}function printFavourites(){for(let e of favouritesArray){const t=e.name,r=document.createElement("li"),i=document.createElement("h3"),n=document.createElement("img"),o=document.createTextNode(t),s=e.image;n.src=s,i.appendChild(o),r.appendChild(n),r.appendChild(i),favouriteListEl.appendChild(r)}}function likeShow(){const e=document.querySelectorAll(".show__element");for(let r of e)r.addEventListener("click",t);function t(e){const t=e.currentTarget,r=t.childNodes[0].src,i=t.childNodes[1].innerHTML;t.classList.toggle("like");let n={};n.name=i,n.image=r,favouritesArray.push(n),console.log(favouritesArray),favouriteListEl.innerHTML="",printFavourites(),localStorage.setItem("favouritesArray",JSON.stringify(favouritesArray))}}function searchSeries(){seriesListEl.innerHTML="";const e=inputEl.value;fetch(`http://api.tvmaze.com/search/shows?q=${e}`).then(function(e){return e.json()}).then(function(e){printerSeries(e),likeShow()})}printFavourites(),buttonEl.addEventListener("click",searchSeries);